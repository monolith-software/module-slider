{% extends '@SliderModule/Admin/index.html.twig' %}

{% block title %}{{ 'Slider'|trans }} &laquo;{{ slider.title }}&raquo; / {{ parent() }}{% endblock %}

{% block content %}

    {% if folderPath %}
        <a class="btn btn-default btn-small btn-sm" href="{{ folderPath }}" title="{{ app.request.host ~ folderPath }}" style="float: right; margin-top: 8px;">
            <i class="icon-home"></i><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Перейти на страницу слайдера на сайте
        </a>
    {% endif %}

    <ul class="nav nav-pills" id="myTab">
        <li><a href="{{ path('monolith_module.slider.admin') }}">Список всех слайдеров</a></li>
        <li class="active"><a href="{{ path('monolith_module.slider.admin_slider', {'id': slider.id }) }}">Редактирование слайдера <b>&laquo;{{ slider.title }}&raquo;</b></a></li>
        <li><a href="{{ path('monolith_module.slider.admin_slider_edit', {'id': slider.id}) }}">{{ 'Slider settings'|trans }}</a></li>
    </ul>

<div class="box box-primary">
    <div class="box-header with-border">

    <div class="tab-content">
        <div class="tab-pane active" id="all">
            <table class="table table-bordered table-hover">
                <thead><tr>
                    <th style="width: 1%;">id</th>
                    <th>{{ 'Slide'|trans }}</th>
                    <th>{{ 'Position'|trans }}</th>
                    <th>{{ 'Title'|trans }}</th>
                    <th>{{ 'Uri'|trans }}</th>
                    <th>{{ 'Original filename'|trans }}</th>
                    <th>{{ 'Status'|trans }}</th>
                    <th>{{ 'Created'|trans }}</th>
                </tr></thead>
                <tbody>
                {% for slide in slider.slides %}
                    <tr>
                        <td>{{ slide.id }}</td>
                        <td><a href="{{ path('monolith_module.slider.admin_slider_item_edit', {'id': slide.id}) }}">
                                <img src="{{ asset(slide.slider.webPath) }}{{ slide.filename }}" alt="" width="100" />
                            </a></td>
                        <td>{{ slide.position }}</td>
                        <td>{{ slide.title }}</td>
                        <td>
                            {% if slide.folder is not empty %}
                                {{ slide.folder }}
                            {% elseif slide.uri is not empty %}
                                {{ slide.uri }}
                            {% endif %}
                        </td>
                        <td>{{ slide.originalFileName }}</td>
                        <td>
                            {% if slide.enabled %}
                                <span class="label label-success">Включен</span>
                            {% else %}
                                <span class="label label-danger label-important">Отключен</span>
                            {% endif %}
                        </td>
                        <td>{{ slide.createdAt|format_datetime }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

        </div>
    </div>

    </div>
</div>

    <h3>Загрузить картинку</h3>

    {{ form(form, {'attr': {'class': 'form-horizontal well'}} ) }}

{% endblock content %}
